\hypertarget{node__transactor_8h}{}\doxysection{src/local\+\_\+lib/headers/node\+\_\+transactor.h File Reference}
\label{node__transactor_8h}\index{src/local\_lib/headers/node\_transactor.h@{src/local\_lib/headers/node\_transactor.h}}


Header file for \mbox{\hyperlink{node__transactor_8c}{node\+\_\+transactor.\+c}} Contains the definition of the functions, structures and typedefs used to handle the node\+\_\+transactor.  


{\ttfamily \#include \char`\"{}transaction\+\_\+list.\+h\char`\"{}}\newline
Include dependency graph for node\+\_\+transactor.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{node__transactor_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=292pt]{node__transactor_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structnode}{node}}
\begin{DoxyCompactList}\small\item\em Node structure used to represent a node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int($\ast$ \mbox{\hyperlink{node__transactor_8h_a1718c8e04c968b7d95cf3142bff81e46}{Reward}}) (struct \mbox{\hyperlink{structnode}{node}} $\ast$self, float percentage, \mbox{\hyperlink{boolean_8h_afdcfe6db5bea87bd493a3fe2c513d5ef}{Bool}} use\+\_\+default, float $\ast$block\+\_\+tot\+\_\+reward)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{node__transactor_8h_afa259136136a9d42301bd3fef04fd447}{node\+\_\+create}} (struct \mbox{\hyperlink{structnode}{node}} $\ast$self, pid\+\_\+t node\+\_\+pid, int node\+\_\+id, float budget, int tp\+\_\+size, int block\+\_\+size, float percentage, \mbox{\hyperlink{node__transactor_8h_a1718c8e04c968b7d95cf3142bff81e46}{Reward}} \mbox{\hyperlink{node__transactor_8c_abe2b1e44c1b3e8f4d2ff9892303534b9}{calc\+\_\+reward}})
\item 
void \mbox{\hyperlink{node__transactor_8h_a299d12e82c779a508560581eb517e732}{free\+\_\+node}} (struct \mbox{\hyperlink{structnode}{node}} $\ast$self)
\item 
int \mbox{\hyperlink{node__transactor_8h_adacf7b2e97d8ad2355279da06d9345d3}{update\+\_\+budget}} (struct \mbox{\hyperlink{structnode}{node}} $\ast$self)
\item 
int \mbox{\hyperlink{node__transactor_8h_abe2b1e44c1b3e8f4d2ff9892303534b9}{calc\+\_\+reward}} (struct \mbox{\hyperlink{structnode}{node}} $\ast$self, float percentage, \mbox{\hyperlink{boolean_8h_afdcfe6db5bea87bd493a3fe2c513d5ef}{Bool}} use\+\_\+default, float $\ast$block\+\_\+tot\+\_\+reward)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for \mbox{\hyperlink{node__transactor_8c}{node\+\_\+transactor.\+c}} Contains the definition of the functions, structures and typedefs used to handle the node\+\_\+transactor. 

\begin{DoxyAuthor}{Author}
Giovanni Terzuolo 
\end{DoxyAuthor}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{node__transactor_8h_a1718c8e04c968b7d95cf3142bff81e46}\label{node__transactor_8h_a1718c8e04c968b7d95cf3142bff81e46}} 
\index{node\_transactor.h@{node\_transactor.h}!Reward@{Reward}}
\index{Reward@{Reward}!node\_transactor.h@{node\_transactor.h}}
\doxysubsubsection{\texorpdfstring{Reward}{Reward}}
{\footnotesize\ttfamily typedef int($\ast$ Reward) (struct \mbox{\hyperlink{structnode}{node}} $\ast$self, float percentage, \mbox{\hyperlink{boolean_8h_afdcfe6db5bea87bd493a3fe2c513d5ef}{Bool}} use\+\_\+default, float $\ast$block\+\_\+tot\+\_\+reward)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{node__transactor_8h_abe2b1e44c1b3e8f4d2ff9892303534b9}\label{node__transactor_8h_abe2b1e44c1b3e8f4d2ff9892303534b9}} 
\index{node\_transactor.h@{node\_transactor.h}!calc\_reward@{calc\_reward}}
\index{calc\_reward@{calc\_reward}!node\_transactor.h@{node\_transactor.h}}
\doxysubsubsection{\texorpdfstring{calc\_reward()}{calc\_reward()}}
{\footnotesize\ttfamily int calc\+\_\+reward (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structnode}{node}} $\ast$}]{self,  }\item[{float}]{percentage,  }\item[{\mbox{\hyperlink{boolean_8h_afdcfe6db5bea87bd493a3fe2c513d5ef}{Bool}}}]{use\+\_\+default,  }\item[{float $\ast$}]{block\+\_\+tot\+\_\+reward }\end{DoxyParamCaption})}

Calculate the expected reward on the transaction block of the given node and update current node budget 
\begin{DoxyParams}{Parameters}
{\em self} & node to operate the calc on \\
\hline
{\em percentage} & the non default percentage that u want to use to calc the reward \\
\hline
{\em use\+\_\+default} & if u want to use the default percentage loaded in the node on creation time \\
\hline
{\em block\+\_\+tot\+\_\+reward} & the total block reward value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 in case of FAILURE. 0 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{node__transactor_8h_a299d12e82c779a508560581eb517e732}\label{node__transactor_8h_a299d12e82c779a508560581eb517e732}} 
\index{node\_transactor.h@{node\_transactor.h}!free\_node@{free\_node}}
\index{free\_node@{free\_node}!node\_transactor.h@{node\_transactor.h}}
\doxysubsubsection{\texorpdfstring{free\_node()}{free\_node()}}
{\footnotesize\ttfamily void free\+\_\+node (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structnode}{node}} $\ast$}]{self }\end{DoxyParamCaption})}

Free the memory from the queue list of transactions 
\begin{DoxyParams}{Parameters}
{\em self} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{node__transactor_8h_afa259136136a9d42301bd3fef04fd447}\label{node__transactor_8h_afa259136136a9d42301bd3fef04fd447}} 
\index{node\_transactor.h@{node\_transactor.h}!node\_create@{node\_create}}
\index{node\_create@{node\_create}!node\_transactor.h@{node\_transactor.h}}
\doxysubsubsection{\texorpdfstring{node\_create()}{node\_create()}}
{\footnotesize\ttfamily void node\+\_\+create (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structnode}{node}} $\ast$}]{self,  }\item[{pid\+\_\+t}]{node\+\_\+pid,  }\item[{int}]{node\+\_\+id,  }\item[{float}]{budget,  }\item[{int}]{tp\+\_\+size,  }\item[{int}]{block\+\_\+size,  }\item[{float}]{percentage,  }\item[{\mbox{\hyperlink{node__transactor_8h_a1718c8e04c968b7d95cf3142bff81e46}{Reward}}}]{calc\+\_\+reward }\end{DoxyParamCaption})}

Initialize the node with the given param, and the transaction list as empty 
\begin{DoxyParams}{Parameters}
{\em self} & node to be initialized \\
\hline
{\em node\+\_\+pid} & pid of the node proc associated with this struct \\
\hline
{\em node\+\_\+id} & id of the node \\
\hline
{\em budget} & initial budget of the node \\
\hline
{\em tp\+\_\+size} & size of the transaction pool \\
\hline
{\em block\+\_\+size} & size of the transaction block \\
\hline
{\em percentage} & percentage of the budget to be used for the reward \\
\hline
{\em calc\+\_\+reward} & pointer to function that calculate the reward \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{node__transactor_8h_adacf7b2e97d8ad2355279da06d9345d3}\label{node__transactor_8h_adacf7b2e97d8ad2355279da06d9345d3}} 
\index{node\_transactor.h@{node\_transactor.h}!update\_budget@{update\_budget}}
\index{update\_budget@{update\_budget}!node\_transactor.h@{node\_transactor.h}}
\doxysubsubsection{\texorpdfstring{update\_budget()}{update\_budget()}}
{\footnotesize\ttfamily int update\+\_\+budget (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structnode}{node}} $\ast$}]{self }\end{DoxyParamCaption})}

Update the budget of the node based on the processed nodes; 
\begin{DoxyParams}{Parameters}
{\em self} & node to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 in case of FAILURE. 0 otherwise 
\end{DoxyReturn}
